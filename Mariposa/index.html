<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Love Story - Código Embebido</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Parisienne&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400..900;1,400..900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css">
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

    <style>
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            max-width: 100% !important;
            margin: 0;
            background-color: #f8f0e3;
            font-family: 'Playfair Display', serif;
            box-sizing: border-box;
            position: relative;
            cursor: pointer;
            overflow: hidden;
        }

        .card-container {
            position: relative;
            z-index: 10;
            max-width: 100%;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
         @media (min-width: 769px) {
            .love-story-card {
                position: relative;
                width: 100%;
                min-width: 800px ;
                height: 500px;
                padding: 40px;
                margin: 0 auto;
                display: flex;
                flex-direction: column;
                justify-content: center;
                align-items: center;
                text-align: center;
                color: #443322;
                
                background-color: #fff9e6;
                box-shadow: 
                    0 6px 12px rgba(0, 0, 0, 0.15),
                    inset 0 0 20px rgba(255, 255, 255, 0.6),
                    inset 0 0 15px rgba(200, 180, 150, 0.4);
                
                border: 1px solid #e8e0c3;
                transform: rotate(-1deg);
                overflow: hidden;
            }
        } 
        .love-story-card {
            position: relative;
            width: 100%;
            max-width: 600px;
            height: 500px;
            padding: 40px;
            margin: 0 auto;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            color: #443322;
            
            background-color: #fff9e6;
            box-shadow: 
                0 6px 12px rgba(0, 0, 0, 0.15),
                inset 0 0 20px rgba(255, 255, 255, 0.6),
                inset 0 0 15px rgba(200, 180, 150, 0.4);
            
            border: 1px solid #e8e0c3;
            transform: rotate(-1deg);
            overflow: hidden;
        }

        .love-story-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                repeating-linear-gradient(
                    45deg, 
                    transparent, 
                    transparent 1px, 
                    rgba(0, 0, 0, 0.04) 1px, 
                    rgba(0, 0, 0, 0.04) 3px
                );
            opacity: 0.8;
            pointer-events: none;
            mix-blend-mode: multiply;
            z-index: 1; 
        }

        .corner-detail {
            position: absolute;
            width: 100px;
            height: 100px;
            opacity: 0.65;
            z-index: 5;
        }

        .top-left {
            top: -15px;
            left: -15px;
            border-radius: 70% 30% 70% 30% / 30% 70% 30% 70%;
            transform: rotate(-15deg);
            background: radial-gradient(circle at 10% 10%, #f7d6a5 0%, #ffc0cb 50%, transparent 70%);
        }

        .bottom-right {
            bottom: -15px;
            right: -15px;
            border-radius: 30% 70% 30% 70% / 70% 30% 70% 30%;
            transform: rotate(15deg);
            background: radial-gradient(circle at 90% 90%, #a5c3f7 0%, #d4a5f7 50%, transparent 70%);
        }

        .mariposa-fija {
            position: absolute;
            z-index: 100;
            pointer-events: none;
            width: 240px;
            height: 240px;
        }

        .mariposa-top {
            top: -60px;
            left: -60px;
        }

        .mariposa-bottom {
            bottom: -60px;
            right: -60px;
            transform: rotate(15deg);
        }

        .mariposa-voladora {
            position: absolute;
            z-index: 90;
            pointer-events: none;
            width: 240px;
            height: 240px;
            opacity: 0.9;
        }

        .mariposa-3 {
            animation: vueloContenido1 30s ease-in-out infinite;
        }

        .mariposa-4 {
            animation: vueloContenido2 35s ease-in-out infinite;
        }

        .mariposa-click {
            position: fixed; /* Cambiado a fixed para mejor control */
            z-index: 95;
            pointer-events: none;
            width: 120px; /* Reducido tamaño */
            height: 120px;
            opacity: 0;
            transform: translate(-50%, -50%);
        }




        .corazon {
            position: absolute;
            font-size: 24px;
            color: #ff6b6b;
            z-index: 110;
            pointer-events: none;
            opacity: 0;
        }

        /* ROSAS EN ESQUINAS */
        .rosa-esquina {
            position: absolute;
            z-index: 80;
            pointer-events: none;
            transform: scale(0.4);
        }

        .rosa-top-right {
            top: -70px;
            right: -40px;
            transform: scale(0.4) rotate(15deg);
        }

        .rosa-bottom-left {
            bottom: -70px;
            left: -40px;
            transform: scale(0.4) rotate(-15deg);
        }

        /* ESTILOS PARA LAS ROSAS MORADAS */
        .flor-rosa {
            position: relative;
            width: 200px;
            height: 300px;
        }

        .petalos-rosa>div {
            position: absolute;
            width: 45px;
            height: 75px;
            top: 45px;
            transition: all 0.5s ease-out;
        }

        .petalos-rosa>div:nth-child(1) {
            border-radius: 12px;
            box-shadow: 0px 0px 30px rgba(128, 0, 128, 0.6);
            left: 65px;
            top: 50px;
            background: linear-gradient(to bottom, #8A2BE2, #4B0082);
        }

        .petalos-rosa>div:nth-child(2),
        .petalos-rosa>div:nth-child(4),
        .petalos-rosa>div:nth-child(6) {
            background: linear-gradient(to bottom, #9370DB, #6A0DAD);
            left: 50px;
            border-radius: 0px 25px 0px 25px;
            transform-origin: bottom right;
        }

        .petalos-rosa>div:nth-child(3),
        .petalos-rosa>div:nth-child(5),
        .petalos-rosa>div:nth-child(7) {
            background: linear-gradient(to bottom, #9370DB, #6A0DAD);
            left: 80px;
            border-radius: 25px 0px 25px 0px;
            transform-origin: bottom left;
        }

        .petalos-rosa>div:nth-child(2) {
            z-index: 5;
            background: linear-gradient(to bottom, #8A2BE2, #6A0DAD);
            top: 60px;
            height: 70px;
            box-shadow: 0px 0px 45px rgba(128, 0, 128, 0.4);
            animation: florecer2-rosa 3s ease-in-out;
            animation-fill-mode: forwards;
        }

        .petalos-rosa>div:nth-child(3) {
            z-index: 4;
            background: linear-gradient(to bottom, #8A2BE2, #6A0DAD);
            top: 60px;
            height: 70px;
            box-shadow: 0px 0px 45px rgba(128, 0, 128, 0.4);
            animation: florecer3-rosa 3s ease-in-out, resplandor-rosa 2.5s ease-in-out infinite;
            animation-fill-mode: forwards;
        }

        .petalos-rosa>div:nth-child(4) {
            z-index: 3;
            background: linear-gradient(to bottom, #9370DB, #6A0DAD);
            top: 55px;
            height: 72px;
            box-shadow: 0px 0px 45px rgba(128, 0, 128, 0.4);
            animation: florecer4-rosa 3s ease-in-out, resplandor-rosa 2.5s ease-in-out infinite;
            animation-fill-mode: forwards;
        }

        .petalos-rosa>div:nth-child(5) {
            z-index: 2;
            background: linear-gradient(to bottom, #9370DB, #6A0DAD);
            top: 55px;
            height: 72px;
            box-shadow: 0px 0px 45px rgba(128, 0, 128, 0.4);
            animation: florecer5-rosa 3s ease-in-out, resplandor-rosa 2.5s ease-in-out infinite;
            animation-fill-mode: forwards;
        }

        .petalos-rosa>div:nth-child(6) {
            z-index: 1;
            background: linear-gradient(to bottom, #8A2BE2, #4B0082);
            top: 52px;
            height: 68px;
            box-shadow: 0px 0px 35px rgba(128, 0, 128, 0.3);
            animation: florecer6-rosa 3s ease-in-out, resplandor-rosa 2.5s ease-in-out infinite;
            animation-fill-mode: forwards;
        }

        .petalos-rosa>div:nth-child(7) {
            z-index: 0;
            background: linear-gradient(to bottom, #8A2BE2, #4B0082);
            top: 52px;
            height: 68px;
            box-shadow: 0px 0px 35px rgba(128, 0, 128, 0.3);
            animation: florecer7-rosa 3s ease-in-out, resplandor-rosa 2.5s ease-in-out infinite;
            animation-fill-mode: forwards;
        }

        .petalos-caidos-rosa>div {
            position: absolute;
            background: linear-gradient(to right, #8A2BE2, #4B0082);
            width: 20px;
            height: 16px;
            top: 95px;
            border-radius: 0px 20px 0px 20px;
            box-shadow: 0px 0px 25px rgba(128, 0, 128, 0.4);
            transition: all 0.5s ease-out;
        }

        .petalos-caidos-rosa>div:nth-child(1) {
            left: 75px;
            transform: rotate(-30deg);
            animation: caer-rosa 20s 4s ease-in-out infinite;
        }

        .petalos-caidos-rosa>div:nth-child(2) {
            left: 50px;
            transform: rotate(-30deg);
            animation: caer-rosa 20s 8s ease-in-out infinite;
        }

        .petalos-caidos-rosa>div:nth-child(3) {
            left: 62px;
            transform: rotate(-30deg);
            animation: caer-rosa 20s 12s ease-in-out infinite;
        }

        .petalos-caidos-rosa>div:nth-child(4) {
            left: 80px;
            transform: rotate(-30deg);
            animation: caer-rosa 20s 16s ease-in-out infinite;
        }

        .hojas-rosa>div:nth-last-child(1) {
            position: absolute;
            width: 50px;
            height: 28px;
            background: linear-gradient(to bottom, #2E8B57, #228B22);
            top: 95px;
            left: 60px;
            border-radius: 80px;
            box-shadow: 0 0 12px rgba(0, 100, 0, 0.5);
        }

        .hojas-rosa>div:nth-child(1) {
            position: absolute;
            width: 6px;
            height: 200px;
            background: linear-gradient(to bottom, #006400, #054c05);
            top: 75px;
            left: 80px;
            border-radius: 0 0 80px 80px;
        }

        .hojas-rosa>div:nth-child(2) {
            position: absolute;
            width: 28px;
            height: 48px;
            border-radius: 4px 32px 16px 32px;
            background: linear-gradient(to right, #006400, #054c05);
            transform-origin: bottom;
            transform: rotate(-30deg);
            top: 145px;
            left: 65px;
            box-shadow: inset 4px 4px #066406, 0 0 12px rgba(0, 100, 0, 0.4);
        }

        .hojas-rosa>div:nth-child(3) {
            position: absolute;
            width: 28px;
            height: 48px;
            border-radius: 32px 4px 32px 16px;
            background: linear-gradient(to left, #006400, #054c05);
            transform-origin: bottom;
            transform: rotate(30deg);
            top: 120px;
            left: 75px;
            box-shadow: inset -4px 4px #066406, 0 0 12px rgba(0, 100, 0, 0.4);
        }

        .espinas-rosa>div {
            position: absolute;
            width: 0;
            height: 0;
            top: 110px;
        }

        .espinas-rosa>div:nth-child(odd) {
            border-top: 5px solid transparent;
            border-bottom: 5px solid transparent;
            border-left: 5px solid #054c05;
            left: 85px;
        }

        .espinas-rosa>div:nth-child(even) {
            border-top: 5px solid transparent;
            border-bottom: 5px solid transparent;
            border-right: 5px solid #054c05;
            left: 75px;
        }

        .espinas-rosa>div:nth-child(1) {
            top: 160px;
        }

        .espinas-rosa>div:nth-child(2) {
            top: 135px;
        }

        .espinas-rosa>div:nth-child(4) {
            top: 185px;
        }

        /* ANIMACIONES PARA LAS ROSAS */
        @keyframes florecer2-rosa {
            50% {
                transform: rotate(-90deg);
                top: 160px;
                left: 80px;
            }

            100% {
                transform: rotate(-60deg);
                top: 200px;
                left: 40px;
                background: #6A0DAD;
                box-shadow: 0px 0px 0px rgba(128, 0, 128, 0);
            }
        }

        @keyframes florecer3-rosa {
            100% {
                transform: rotate(45deg);
            }
        }

        @keyframes florecer4-rosa {
            100% {
                transform: rotate(-20deg);
            }
        }

        @keyframes florecer5-rosa {
            100% {
                transform: rotate(20deg);
            }
        }

        @keyframes florecer6-rosa {
            100% {
                transform: rotate(-5deg);
            }
        }

        @keyframes florecer7-rosa {
            100% {
                transform: rotate(5deg);
            }
        }

        @keyframes resplandor-rosa {
            50% {
                background: linear-gradient(to bottom, #8A2BE2, #6A0DAD);
                box-shadow: 0px 0px 60px #8A2BE2;
            }
        }

        @keyframes caer-rosa {
            20% {
                top: 270px;
                background: #6A0DAD;
                box-shadow: 0px 0px 0px rgba(128, 0, 128, 0);
            }

            100% {
                top: 270px;
                opacity: 0;
            }
        }

        @keyframes corazonFlotante {
            0% { 
                transform: translate(-50%, -50%) scale(0) rotate(0deg);
                opacity: 1;
            }
            50% { 
                transform: translate(-50%, -150%) scale(1.5) rotate(180deg);
                opacity: 1;
            }
            100% { 
                transform: translate(-50%, -300%) scale(0) rotate(360deg);
                opacity: 0;
            }
        }

        @keyframes aparecerMariposa {
            0% { 
                transform: translate(-50%, -50%) scale(0) rotate(0deg);
                opacity: 0;
            }
            50% { 
                transform: translate(-50%, -50%) scale(1.2) rotate(180deg);
                opacity: 0.8;
            }
            100% { 
                transform: translate(-50%, -50%) scale(1) rotate(360deg);
                opacity: 0.9;
            }
        }
       @keyframes vueloNuevo {
            0% { 
                transform: translate(-50%, -50%) translate(var(--startX), var(--startY)) rotate(0deg) scale(1);
                opacity: 0.9;
            }
            25% { 
                transform: translate(-50%, -50%) translate(calc(var(--startX) + 20px), calc(var(--startY) - 30px)) rotate(90deg) scale(1.1);
            }
            50% { 
                transform: translate(-50%, -50%) translate(calc(var(--startX) + 40px), calc(var(--startY) + 20px)) rotate(180deg) scale(1);
            }
            75% { 
                transform: translate(-50%, -50%) translate(calc(var(--startX) - 10px), calc(var(--startY) + 40px)) rotate(270deg) scale(0.9);
            }
            100% { 
                transform: translate(-50%, -50%) translate(calc(var(--startX) + 60px), calc(var(--startY) - 20px)) rotate(360deg) scale(1);
                opacity: 0;
            }
        }


        .mariposa {
            transform-origin: 100px 100px;
        }

        .ala-izq, .ala-der {
            fill: none;
            stroke-width: 2.5;
            transform-origin: 100px 100px;
            animation: aleteoNatural 0.7s infinite ease-in-out;
        }

        .ala-izq { animation-delay: 0s; }
        .ala-der { animation-delay: 0.35s; }

        @keyframes aleteoNatural {
            0%, 100% { transform: rotate(0deg); }
            25% { transform: rotate(4deg); }
            50% { transform: rotate(0deg); }
            75% { transform: rotate(-3deg); }
        }

        .cuerpo {
            stroke-width: 5;
            stroke-linecap: round;
        }

        .antena {
            stroke-width: 1.5;
            fill: none;
        }

        .mariposa-top .ala-izq,
        .mariposa-top .ala-der { stroke: #8b5a9f; }
        .mariposa-top .cuerpo,
        .mariposa-top .antena { stroke: #8b5a9f; }

        .mariposa-bottom .ala-izq,
        .mariposa-bottom .ala-der { stroke: #b88a5a; }
        .mariposa-bottom .cuerpo,
        .mariposa-bottom .antena { stroke: #b88a5a; }

        .mariposa-3 .ala-izq,
        .mariposa-3 .ala-der { stroke: #ff6b6b; }
        .mariposa-3 .cuerpo,
        .mariposa-3 .antena { stroke: #ff6b6b; }

        .mariposa-4 .ala-izq,
        .mariposa-4 .ala-der { stroke: #4ecdc4; }
        .mariposa-4 .cuerpo,
        .mariposa-4 .antena { stroke: #4ecdc4; }

        .title-text {
            margin-bottom: 25px;
            z-index: 20; 
            position: relative;
        }

        .small-text {
            font-size: 1.3em;
            font-weight: 400;
            letter-spacing: 3px;
            display: block;
            margin-bottom: -15px;
            opacity: 0.7;
            text-transform: uppercase;
        }

        .main-title {
            font-family: 'Parisienne', cursive; 
            font-size: 5.5em;
            margin: 0;
            line-height: 1.1;
            color: #8b0000;
            text-shadow: 2px 2px 3px rgba(0, 0, 0, 0.15),
                         -1px -1px 0 rgba(139, 0, 0, 0.2); 
        }

        .date-text {
            display: block;
            margin-top: 15px;
            font-style: italic;
            font-size: 1.1em;
            opacity: 0.6;
            letter-spacing: 1px;
        }

        .embedded-content {
            margin-top: 35px;
            z-index: 20;
            position: relative;
        }

        .photo-stamp {
            display: inline-block;
            padding: 12px 24px;
            background-color: #8b0000;
            color: white;
            text-decoration: none;
            border-radius: 50px / 12px; 
            font-size: 0.7em;
            letter-spacing: 1px;
            text-transform: uppercase;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
            transition: background-color 0.3s, transform 0.2s;
            border: 2px solid #a02020;
            cursor: pointer;
        }

        .photo-stamp:hover {
            background-color: #a02020;
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 6px 8px rgba(0, 0, 0, 0.4);
        }

        @keyframes vueloContenido1 {
            0% { transform: translate(0px, 0px) rotate(0deg) scale(1); }
            10% { transform: translate(100px, 50px) rotate(45deg) scale(1.02); }
            20% { transform: translate(200px, 100px) rotate(90deg) scale(1); }
            30% { transform: translate(250px, 150px) rotate(135deg) scale(0.98); }
            40% { transform: translate(200px, 200px) rotate(180deg) scale(1.03); }
            50% { transform: translate(100px, 250px) rotate(225deg) scale(1); }
            60% { transform: translate(0px, 200px) rotate(270deg) scale(0.97); }
            70% { transform: translate(50px, 150px) rotate(315deg) scale(1.02); }
            80% { transform: translate(150px, 100px) rotate(360deg) scale(1); }
            90% { transform: translate(200px, 50px) rotate(405deg) scale(0.99); }
            100% { transform: translate(0px, 0px) rotate(450deg) scale(1); }
        }

        @keyframes vueloContenido2 {
            0% { transform: translate(300px, 300px) rotate(180deg) scale(1); }
            12% { transform: translate(200px, 250px) rotate(225deg) scale(0.97); }
            24% { transform: translate(100px, 300px) rotate(270deg) scale(1.03); }
            36% { transform: translate(50px, 200px) rotate(315deg) scale(1); }
            48% { transform: translate(100px, 100px) rotate(360deg) scale(0.98); }
            60% { transform: translate(200px, 50px) rotate(405deg) scale(1.02); }
            72% { transform: translate(250px, 100px) rotate(450deg) scale(1); }
            84% { transform: translate(280px, 200px) rotate(495deg) scale(0.99); }
            96% { transform: translate(200px, 250px) rotate(540deg) scale(1.01); }
            100% { transform: translate(300px, 300px) rotate(585deg) scale(1); }
        }

        /* MODAL STYLES */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s, visibility 0.3s;
        }

        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            background-color: #fff9e6;
            border-radius: 10px;
            width: 50%;
            height: 100% !important;
            max-width: 600px !important;
            max-height: 100vh;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            position: relative;
            transform: scale(0.9);
            transition: transform 0.3s;
        }

        .modal-overlay.active .modal-content {
            transform: scale(1);
        }

        .close-modal {
            position: absolute;
            top: 15px;
            right: 15px;
            background: none;
            border: none;
            font-size: 24px;
            color: #8b0000;
            cursor: pointer;
            z-index: 10;
            width: 40px;
            height: 40px;
            display: flex;
            justify-content: center;
            align-items: center;
            border-radius: 50%;
            background-color: rgba(255, 255, 255, 0.7);
        }

        .close-modal:hover {
            background-color: rgba(255, 255, 255, 0.9);
        }

        /* SWIPER STYLES */
        .swiper {
            width: 90%;
            height: 90vh;
        }

        .swiper-slide {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            position: relative;
            overflow: hidden;
           
        }

        .slide-image {
            width: 100%;
            height: 80%;
            object-fit: cover;
            border-radius: 8px;
            margin-bottom: 20px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
        }

        .slide-text {
            font-family: 'Playfair Display', serif;
            font-size: 1.5em;
            color: #443322;
            padding: 0 20px;
            min-height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100%;
        }

        .typing-text {
            overflow: hidden;
            border-right: 2px solid #8b0000;
            white-space: nowrap;
            margin: 0 auto;
            animation: typing 3.5s steps(40, end), blink-caret 0.75s step-end infinite;
        }

        @keyframes typing {
            from { width: 0 }
            to { width: 100% }
        }

        @keyframes blink-caret {
            from, to { border-color: transparent }
            50% { border-color: #8b0000 }
        }

        .swiper-pagination {
            bottom: -4px !important;
        }

        .swiper-pagination-bullet {
            background-color: #8b0000;
            opacity: 0.5;
            width: 10px;
            height: 10px;
        }

        .swiper-pagination-bullet-active {
            opacity: 1;
        }

        @media (max-width: 768px) {

            .love-story-card {
                width: 90%;
                height: 450px;
                padding: 30px;
            }
            
            .main-title {
                font-size: 4.5em;
            }
            
            .mariposa-fija, .mariposa-voladora {
                width: 180px;
                height: 180px;
            }
            
            .mariposa-top {
                top: -40px;
                left: -40px;
            }
            
            .mariposa-bottom {
                bottom: -40px;
                right: -40px;
            }
            
            .rosa-esquina {
                transform: scale(0.3);
            }
            
            .rosa-top-right {
                top: -60px;
                right: -60px;
            }
            
            .rosa-bottom-left {
                bottom: -60px;
                left: -60px;
            }
            .modal-content {
                background-color: #fff9e6;
                border-radius: 10px;
                width: 100% !important;
                max-height: 100vh;
                overflow: hidden;
                box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
                position: relative;
                transform: scale(0.9);
                transition: transform 0.3s;
            }

            .swiper {
                height: 60vh;
            }

            .slide-text {
                font-size: 1.2em;
            }
        }

        @media (max-width: 480px) {
            .love-story-card {
                width: 300px;
                height: 450px;
                padding: 30px;
            }
            
            .main-title {
                font-size: 4em;
            }
            
            .mariposa-fija, .mariposa-voladora {
                width: 150px;
                height: 150px;
            }
            
            .mariposa-top {
                top: -30px;
                left: -30px;
            }
            
            .mariposa-bottom {
                bottom: -30px;
                right: -30px;
            }
            
            .rosa-esquina {
                transform: scale(0.25);
            }
            
            .rosa-top-right {
                top: -90px;
                right: -60px;
            }
            
            .rosa-bottom-left {
                bottom: -90px;
                left: -60px;
            }

            .swiper {
                height: 80vh;
            }

            .slide-text {
                font-size: 1em;
            }
        }

        @media (max-width: 360px) {
            .love-story-card {
                width: 280px;
                height: 420px;
                padding: 25px;
            }
            
            .main-title {
                font-size: 3.5em;
            }
            
            .rosa-esquina {
                transform: scale(0.2);
            }

            .swiper {
                height: 45vh;
            }
        }
    </style>
</head>
<body>

    <div class="card-container">
        <div class="love-story-card">
            
            <!-- Mariposas en esquinas superiores -->
            <div class="mariposa-fija mariposa-top">
                <svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
                    <g class="mariposa">
                        <path class="ala-izq" d="M100 100 C85 70, 65 90, 80 100"/>
                        <path class="ala-izq" d="M100 100 C85 130, 65 110, 80 100"/>
                        <path class="ala-der" d="M100 100 C115 70, 135 90, 120 100"/>
                        <path class="ala-der" d="M100 100 C115 130, 135 110, 120 100"/>
                        <line class="cuerpo" x1="100" y1="90" x2="100" y2="110"/>
                        <path class="antena" d="M100 90 C95 75, 85 75, 82 85"/>
                        <path class="antena" d="M100 90 C105 75, 115 75, 118 85"/>
                    </g>
                </svg>
            </div>

            <div class="mariposa-fija mariposa-bottom">
                <svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
                    <g class="mariposa">
                        <path class="ala-izq" d="M100 100 C85 70, 65 90, 80 100"/>
                        <path class="ala-izq" d="M100 100 C85 130, 65 110, 80 100"/>
                        <path class="ala-der" d="M100 100 C115 70, 135 90, 120 100"/>
                        <path class="ala-der" d="M100 100 C115 130, 135 110, 120 100"/>
                        <line class="cuerpo" x1="100" y1="90" x2="100" y2="110"/>
                        <path class="antena" d="M100 90 C95 75, 85 75, 82 85"/>
                        <path class="antena" d="M100 90 C105 75, 115 75, 118 85"/>
                    </g>
                </svg>
            </div>

            <!-- Rosas en las otras dos esquinas -->
            <div class="rosa-esquina rosa-top-right">
                <div class="flor-rosa">
                    <div class="espinas-rosa">
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                    </div>
                    <div class="hojas-rosa">
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                    </div>
                    <div class="petalos-rosa">
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                    </div>
                    <div class="petalos-caidos-rosa">
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                    </div>
                </div>
            </div>

            <div class="rosa-esquina rosa-bottom-left">
                <div class="flor-rosa">
                    <div class="espinas-rosa">
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                    </div>
                    <div class="hojas-rosa">
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                    </div>
                    <div class="petalos-rosa">
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                    </div>
                    <div class="petalos-caidos-rosa">
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                    </div>
                </div>
            </div>

            <!-- Mariposas voladoras originales -->
            <div class="mariposa-voladora mariposa-3">
                <svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
                    <g class="mariposa">
                        <path class="ala-izq" d="M100 100 C85 70, 65 90, 80 100"/>
                        <path class="ala-izq" d="M100 100 C85 130, 65 110, 80 100"/>
                        <path class="ala-der" d="M100 100 C115 70, 135 90, 120 100"/>
                        <path class="ala-der" d="M100 100 C115 130, 135 110, 120 100"/>
                        <line class="cuerpo" x1="100" y1="90" x2="100" y2="110"/>
                        <path class="antena" d="M100 90 C95 75, 85 75, 82 85"/>
                        <path class="antena" d="M100 90 C105 75, 115 75, 118 85"/>
                    </g>
                </svg>
            </div>

            <div class="mariposa-voladora mariposa-4">
                <svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
                    <g class="mariposa">
                        <path class="ala-izq" d="M100 100 C85 70, 65 90, 80 100"/>
                        <path class="ala-izq" d="M100 100 C85 130, 65 110, 80 100"/>
                        <path class="ala-der" d="M100 100 C115 70, 135 90, 120 100"/>
                        <path class="ala-der" d="M100 100 C115 130, 135 110, 120 100"/>
                        <line class="cuerpo" x1="100" y1="90" x2="100" y2="110"/>
                        <path class="antena" d="M100 90 C95 75, 85 75, 82 85"/>
                        <path class="antena" d="M100 90 C105 75, 115 75, 118 85"/>
                    </g>
                </svg>
            </div>
            
            <div class="corner-detail top-left"></div>
            <div class="corner-detail bottom-right"></div>
            
            <div class="title-text">
                <span class="small-text"></span>
                <h1 class="main-title">Te Amo</h1>
                <span class="date-text">09/10/2025</span>
            </div>

            <div class="embedded-content">
                <a href="#" class="photo-stamp" id="open-modal">
                    Razones para amarte cada día más
                </a>
            </div>
            
        </div>
    </div>

    <!-- MODAL -->
    <div class="modal-overlay" id="modal-overlay">
        <div class="modal-content">
            <button class="close-modal" id="close-modal">×</button>
            <div class="swiper">
                <div class="swiper-wrapper">
                    <!-- Slide 1 -->
                    <div class="swiper-slide">
                        <img src="https://bcodestorague.anteroteobaldob.workers.dev/share/anteroteobaldob_gmail_com/GIFS%20NUEV/besitos.gif" alt="Imagen 1" class="slide-image">
                        <div class="slide-text">
                            <span class="typing-text" id="text-1">Porque tu sonrisa ilumina mis días más oscuros</span>
                        </div>
                    </div>
                    <!-- Slide 2 -->
                    <div class="swiper-slide">
                        <img src="https://bcodestorague.anteroteobaldob.workers.dev/share/anteroteobaldob_gmail_com/GIFS%20NUEV/besitos2.gif" alt="Imagen 2" class="slide-image">
                        <div class="slide-text">
                            <span class="typing-text" id="text-2">Porque tu amor me hace sentir completo/a</span>
                        </div>
                    </div>
                    <!-- Slide 3 -->
                    <div class="swiper-slide">
                        <img src="https://bcodestorague.anteroteobaldob.workers.dev/share/anteroteobaldob_gmail_com/GIFS%20NUEV/flokc.gif" alt="Imagen 3" class="slide-image">
                        <div class="slide-text">
                            <span class="typing-text" id="text-3">Porque contigo cada momento es especial</span>
                        </div>
                    </div>
                    <!-- Slide 4 -->
                    <div class="swiper-slide">
                        <img src="https://bcodestorague.anteroteobaldob.workers.dev/share/anteroteobaldob_gmail_com/GIFS%20NUEV/pasitos%20bonitos.gif" alt="Imagen 4" class="slide-image">
                        <div class="slide-text">
                            <span class="typing-text" id="text-4">Porque me aceptas tal y como soy</span>
                        </div>
                    </div>
                    <!-- Slide 5 -->
                    <div class="swiper-slide">
                        <img src="https://bcodestorague.anteroteobaldob.workers.dev/share/anteroteobaldob_gmail_com/GIF/Quieres%20ser%20mi%20novia5.gif" alt="Imagen 5" class="slide-image">
                        <div class="slide-text">
                            <span class="typing-text" id="text-5">Porque no puedo imaginar mi vida sin ti</span>
                        </div>
                    </div>
                </div>
                <div class="swiper-pagination"></div>
            </div>
        </div>
    </div>

    <script>
        let mariposaCount = 0;
        const coloresMariposas = [
            '#FF1493',
            '#00CED1',
            '#FFD700',
            '#9370DB',
            '#32CD32',
            '#FF4500',
            '#1E90FF',
            '#FF69B4'
        ];

        document.addEventListener('click', function(e) {
            crearMariposa(e.clientX, e.clientY);
        });

        function crearMariposa(x, y) {
            mariposaCount++;
            
            const corazon = document.createElement('div');
            corazon.className = 'corazon';
            corazon.innerHTML = '❤️';
            corazon.style.left = x + 'px';
            corazon.style.top = y + 'px';
            corazon.style.animation = 'corazonFlotante 2s ease-out forwards';
            document.body.appendChild(corazon);

            setTimeout(() => {
                corazon.remove();
            }, 2000);

            const nuevaMariposa = document.createElement('div');
            nuevaMariposa.className = 'mariposa-click';
            
            // POSICIONAR EN EL CLICK PERO CON LÍMITES
            const viewportWidth = window.innerWidth;
            const viewportHeight = window.innerHeight;
            
            // Limitar la posición para que no se salga
            const limitedX = Math.max(120, Math.min(x, viewportWidth - 120));
            const limitedY = Math.max(120, Math.min(y, viewportHeight - 120));
            
            nuevaMariposa.style.left = limitedX + 'px';
            nuevaMariposa.style.top = limitedY + 'px';
            
            const colorIndex = mariposaCount % coloresMariposas.length;
            const color = coloresMariposas[colorIndex];
            
            nuevaMariposa.innerHTML = `
                <svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
                    <g class="mariposa">
                        <path class="ala-izq" d="M100 100 C85 70, 65 90, 80 100" style="stroke: ${color}"/>
                        <path class="ala-izq" d="M100 100 C85 130, 65 110, 80 100" style="stroke: ${color}"/>
                        <path class="ala-der" d="M100 100 C115 70, 135 90, 120 100" style="stroke: ${color}"/>
                        <path class="ala-der" d="M100 100 C115 130, 135 110, 120 100" style="stroke: ${color}"/>
                        <line class="cuerpo" x1="100" y1="90" x2="100" y2="110" style="stroke: ${color}"/>
                        <path class="antena" d="M100 90 C95 75, 85 75, 82 85" style="stroke: ${color}"/>
                        <path class="antena" d="M100 90 C105 75, 115 75, 118 85" style="stroke: ${color}"/>
                    </g>
                </svg>
            `;

            document.body.appendChild(nuevaMariposa);

            nuevaMariposa.style.animation = 'aparecerMariposa 1s ease-out forwards';

            setTimeout(() => {
                // Calcular movimiento más conservador
                const startX = 0; // Empezar desde la posición actual
                const startY = 0;
                
                nuevaMariposa.style.setProperty('--startX', startX + 'px');
                nuevaMariposa.style.setProperty('--startY', startY + 'px');
                nuevaMariposa.style.animation = 'vueloNuevo 8s ease-in-out forwards';
            }, 1000);

            setTimeout(() => {
                if (nuevaMariposa.parentNode) {
                    nuevaMariposa.remove();
                }
            }, 9000);
        }
        const modalOverlay = document.getElementById('modal-overlay');
        const openModalBtn = document.getElementById('open-modal');
        const closeModalBtn = document.getElementById('close-modal');

        openModalBtn.addEventListener('click', function(e) {
            e.preventDefault();
            modalOverlay.classList.add('active');
            document.body.style.overflow = 'hidden';
            initializeSwiper();
        });

        closeModalBtn.addEventListener('click', function() {
            modalOverlay.classList.remove('active');
            document.body.style.overflow = 'auto';
        });

        modalOverlay.addEventListener('click', function(e) {
            if (e.target === modalOverlay) {
                modalOverlay.classList.remove('active');
                document.body.style.overflow = 'auto';
            }
        });

        // SWIPER INITIALIZATION
        let swiper = null;

        function initializeSwiper() {
            if (swiper) {
                swiper.destroy(true, true);
            }
            
            swiper = new Swiper('.swiper', {
                direction: 'horizontal',
                loop: true,
                pagination: {
                    el: '.swiper-pagination',
                    clickable: true,
                },
                mousewheel: true,
                keyboard: {
                    enabled: true,
                },
                effect: 'fade',
                fadeEffect: {
                    crossFade: true
                },
                speed: 1000,
                autoplay: {
                    delay: 5000,
                    disableOnInteraction: false,
                },
                on: {
                    slideChangeTransitionStart: function() {
                        // Remove typing animation from all slides
                        document.querySelectorAll('.typing-text').forEach(text => {
                            text.style.animation = 'none';
                        });
                        
                        // Add typing animation to active slide after a short delay
                        setTimeout(() => {
                            const activeSlide = document.querySelector('.swiper-slide-active .typing-text');
                            if (activeSlide) {
                                activeSlide.style.animation = 'typing 3.5s steps(40, end), blink-caret 0.75s step-end infinite';
                            }
                        }, 500);
                    }
                }
            });

            // Initialize typing animation on first slide
            setTimeout(() => {
                const activeSlide = document.querySelector('.swiper-slide-active .typing-text');
                if (activeSlide) {
                    activeSlide.style.animation = 'typing 3.5s steps(40, end), blink-caret 0.75s step-end infinite';
                }
            }, 500);
        }
    </script>

</body>
</html>